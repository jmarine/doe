<html>
  <head>
    <title>
     Domain Object Explorer for EJB3 entity beans
    </title>
  </head>
  <body>
    <table>
      <tr>
	<td valign="top"><img src="images/icon.gif"></td>
	<td valign="top">
          <h1>Domain Object Explorer for EJB3 entity beans</h1>
  <!-- Navbar begin -->
  <table border="0" cellpadding="0" cellspacing="0" summary="Navigation bar">
    <tr> 
      <td width="16" style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;"><img src="images/buttonbar_left.gif" alt="" width="16" height="34" /></td>
      <td background="images/buttonbar_bg.gif" valign="top" style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;"> 
        <table border="0" cellpadding="0" cellspacing="0" 
               style="margin-top: 6px" summary="Options">
          <tr> 
            <!-- java.net -->
            <td><img src="images/bullet.gif" alt="*" border="0" hspace="4" /></td>
            <td><a href="http://www.java.net" style="color: white; text-decoration:none; font-family:Arial,sans-serif; font-size:11px; font-weight:bold; white-space:nowrap">java.net</a></td>
            <!-- community home -->
            <td><img src="images/bullet.gif" alt="*" border="0" hspace="4" /></td>
            <td><a href="http://community.java.net/java-enterprise" style="color: white; text-decoration:none; font-family:Arial,sans-serif; font-size:11px; font-weight:bold; white-space:nowrap">community home</a></td>
            <!-- foundry home -->
            <td><img src="images/bullet.gif" alt="*" border="0" hspace="4" /></td>
            <td><a href="http://java-enterprise.dev.java.net/" style="color: white; text-decoration:none; font-family:Arial,sans-serif; font-size:11px; font-weight:bold;white-space:nowrap">projects</a></td>
            <!-- incubator -->
            <td><img src="images/bullet.gif" alt="*" border="0" hspace="4" /></td>
            <td><a href="http://enterprise-incubator.dev.java.net/" style="color: white; text-decoration:none; font-family:Arial,sans-serif; font-size:11px; font-weight:bold;white-space:nowrap">incubator</a></td>
            <!-- download j2ee 1.4 sdk -->
            <td><img src="images/bullet.gif" alt="*" border="0" hspace="4" /></td>
            <td><a href="https://glassfish.dev.java.net/downloads/v2-b58g.html" style="color: white; text-decoration:none; font-family:Arial,sans-serif; font-size:11px; font-weight:bold;white-space:nowrap">download GlassFish v2</a></td>
          </tr>
        </table>
      </td>
      <td width="22" style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;"><img src="images/buttonbar_right.gif" alt="" width="22" height="34" /></td>
    </tr>
  </table>
  <!-- Navbar end -->
	</td>
      </tr>
    </table>
    <hr>

    <a name="info">
    <h3>Project Info</h3>
    </a>
    <blockquote>
      <!-- project info start -->
      <ul>
        <li><b>Project Name:</b> doe</li>
        <!-- Latest Release: e.g. 1.0 -->
        <li><b>Latest Release:</b> None</li>
        <!-- Status of best release: Planning, Pre-Alpha, Alpha, Beta, Production -->
        <li><b>Latest Release Status:</b> Pre-Alpha</li>
        <!-- Project Type: Web Service, Tool, Component, or add your own -->
        <li><b>Project Type:</b> Java Web Start application client</li>
        <li><b>License:</b> Common Development and Distribution License (CDDL) Version 1.0</li>
      </ul>
The "Domain Object Explorer" is a desktop application that auto-generates the user interface for your EJB3 entity beans at runtime, without needing of UI programming (like <a href="http://www.nakedobjects.org">Naked Objects</a>, <a href="http://www.jmatter.org">JMatter</a>, ...). It can also be deployed as a JavaEE 5 application client into <a href="https://glassfish.dev.java.net/downloads/v2-b58g.html">GlassFish v2</a> application server to centrally manage datasource configuration, update persistence units, and deliver application to users via Java Web Start technology.
      <!-- project info end -->
    </blockquote>

    <a name="contents">
    <h3>Contents</h3>
    </a>
    <blockquote>
      <dl>
	<dd><a href="#features">Features</a></dd>
	<dd><a href="#download">Download</a></dd>
	<dd><a href="#install">Installation guide</a></dd>
	<dd><a href="#usage">Usage Instructions</a></dd>
	<dd><a href="#screenshot">Screenshot</a></dd>
	<dd><a href="#development">Developer's guide</a></dd>
	<dd><a href="#support">Support</a></dd>
	<dd><a href="#participate">Participation</a></dd>
	<dd><a href="#roadmap">Roadmap</a></dd>
	<dd><a href="#revision">Revision History</a></dd>
      </dl>
    </blockquote>

    <a name="features">
    <h3>Features</h3>
    </a>
    <blockquote>
    <ul>
      <li>Pros:</li>
      <ul>
	<li>Rich user interface to manage and test your JPA/EJB3 entity beans.</li>
	<li>Application and persistence units updates can be delivered to users via Java Web Start technology.</li>
	<li>Data sources can be centrally configured from application server administrative console.</li>
	<li>Doesn't need complex HTML, JavaScript, nor AJAX handlers on server-side.</li>
	<li>...</li>
      </ul>
      <li>Cons:</li>
      <ul>
	<li>Deployed aplications are really big (about 45Mb).</li>
	<li>Rude printing support.</li>
	<li>...</li>
      </ul>
    </ul>
    </blockquote>


    <a name="download">
    <h3>Download</h3>
    </a>
    <blockquote>
      There is no stable version, yet. But you can download preview releases from <a href="https://doe.dev.java.net/servlets/ProjectDocumentList?folderID=7649&expandFolder=7649&folderID=0">Document & files</a> or <a href="https://doe.dev.java.net/source/browse/doe/">CVS</a>, where you will find the following projects for NetBeans IDE 6:<br>
      <ul>
	<li> "doe4ejb3": it's the core library.</li>
 	<li> "doe4ejb3-app-client": it's a Java EE 5 application client (that can be included in the users's enterprise application).</li>
	<li> "doe4nb6": simple integration module for NetBeans Platform 6.</li>
      </ul>
 
      Also, there are the following example modules:
 	<ul>
	<li> "doe4ejb3-test-ejb3": sample EJB3 entity beans (some are based on  "<a href="http://www.trailsframework.org">trails</a>" demos).</li>
 	<li> "doe4ejb3-test-app" : sample enterprise application project that includes the "doe" application client to manage the previous "EJB3" entities.</li>
  	</ul>
    </blockquote>


    <a name="install">
    <h3>Installation guide</h3>
    </a>
    <blockquote>

	<ol>
        <li>Download, install and start <a href="https://glassfish.dev.java.net/downloads/v2-b58g.html">GlassFish v2</a> application server.
        </li>
        <li>Include the "doe4ejb3-app-client" into your Java EE 5 application.</li>
	<li>Specify EJB3 entity class names in your "META-INF/persistence.xml" descriptors.</li>
	<li>Assemble all modules into an EAR archive, and deploy to the application server.</li>
	<li>Note: if you want to test "doe" with the sample EJB3 entities, you should create a database for the tests, configure the connection parameters in GlassFish administration console (the JDBC datasource should be named "jdbc/doe4ejb3"), then open the "doe4ejb3-test-app" project with NetBeans 6.0, and deploy into the application server.
	</li>
        <li>See the instructions below.</li>
	</ol>
    </blockquote>


    <a name="usage">
    <h3>Usage Instructions</h3>
    </a>
    <blockquote>
    You can easily launch the "doe" application client from GlassFish administrative console (after installation, you can also start it from Java Web Start viewer). The application has the following features:

    <h4>Create a new entity object:</h4>
    Open the "File" menu, select "New" option, the name of the persistence unit, and the class name of the EJB3 entity to be created. Then complete the entity properties and press the "Accept" button to persist the entity.

    <h4>Search entity beans:</h4>
    On the left panel, select the persistence unit to view its EJB3 entity classes, and double click with left button on the desired class to open the entity manager window on the desktop. Then select the query type (to search "All" objects, or use a custom/named query). With "custom" or "named" queries, you also have to complete the required parameters. Finally, press the "Search" button, and wait for the results (note the "done" indicator in the status bar).


    <h4>Browse/edit an object:</h4>
    Select one of the objects found, and click the "Edit" button from the manager window to view the entity details on the right panel (desktop). You can navigate to related entities, and modify its properties (to persist changes, remember to press the "Save" or "Accept" button on the modified entity details).

    <h4>Print the objects:</h4>
    Use the "Print" button from the manager/detail window, configure the printing dialog, and click the "Print" button to confirm.

    <h4>Delete an object:</h4>
    Select the undesired objects, click "Delete" button from the manager/detail window, and confirm the deletion in the next window popup.
    </blockquote>

    <a name="screenshot">
    <h3>Screenshots</h3>
    <blockquote>
      <table border="0" cellpadding="5" cellspacing="5">
      <tr>
	<td>
	Standalone:<br>
      	<a href="images/screenshot.png" alt="Maximize screenshot"><img src="images/screenshot.png" alt="Screenshot - Standalone" width="320" height="240" /></a>
	</td>
	<td>
	Integrated with NetBeans Platform 6:<br>
	<a href="images/screenshot-nb6.png" alt="Maximize screenshot"><img src="images/screenshot-nb6.png" alt="Screenshot - Integrated with NetBeans Platform 6" width="320" height="240" /></a> 
	</td>
      </tr>
      </table>
    </blockquote>
    </a>


    <a name="development">
    <h3>Developer's guide</h3>
    </a>
    <blockquote>
    <h4>Defining custom queries for an entity:</h4>
    The "doe" application can search entities using the "named queries" defined for an EJB3 entity bean.
<pre>
@Entity
@NamedQueries({
    @NamedQuery(name="searchPublished",
	query="SELECT OBJECT(r) FROM Recipe r WHERE r.published = true"),
    @NamedQuery(name="searchByCategory",
        query="SELECT OBJECT(r) FROM Recipe r WHERE r.category = :category")
})
public class Recipe implements java.io.Serializable
{
    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    public Integer id;

    @Column(name="TITLE", nullable=false, unique=true, length=100)
    public String title;

    @Column(name="PUBLISHED", nullable=true)
    public boolean published;

    @ManyToOne
    public Category category;
    ...
}
</pre>
<br>

    <h4>Defining custom actions for an entity:</h4>
    When "doe" application opens an existing entity, it will display additional buttons for each public method annotated with "@org.jdesktop.application.Action" attribute (jsr-296). The default presentation properties of actions defined this way are initialized automatically from their class's ResourceBundle. Developers can use org.doe4ejb3.util.DOEUtil and org.doe4ejb3.gui.WindowManager for user interaction. For example:
    <pre>
@Entity
public class Recipe implements java.io.Serializable
{
    ....
    @Action
    public void cookIt()
    {
        DOEUtils.getWindowManager().showMessageDialog(
	    "Ready to eat.", 
	    "CookIt result", 
	    JOptionPane.INFORMATION_MESSAGE);
    }
    ....
}
</pre>
<br>

    <h4>Customize user interface for an entity:</h4>
    The "doe" application can auto-generate the UI at runtime, but developers can also customize entity editors in many ways:
    <ol>
	<li><u>Using @PropertyDescriptor annotation:</u></li>
        The @org.doe4ejb3.annotation.PropertyDescriptor annotation allows simple customization of the UI controls for the properties (to change labels, the order of fields, ...). For example:
<pre>
...
@Column(name="name", length=50)
@PropertyDescriptor(index=1, displayName="Full name:")
public String name;
...
</pre>
<br><br>

	<li><u>Using Abeille forms:</u></li>
        You can design the complete UI of an entity editor with <a href="http://abeille.dev.java.net">Abeille Forms Designer</a>, and copy the generated xml or jfrm file in the same directory/name of the entity class. To bind entity properties with the UI, developers have to design the forms with the apropiate control types (or JPanel container), and to name them as the respective properties names. When the control belongs to an embbedded entity property, use the dot symbol to separate the embedded entity name of the associated property name.  
<br><br>

	<li><u>Using compiled Swing UI:</u></li>
	You can also use your favourite GUI builder (like NetBeans IDE) to design the complete Swing UI layout for an entity editor. The class representing the UI should be inherited from JPanel, the class name must be specified in the entity class with @org.doe4ejb3.annotation.EntityDescriptor(layoutClassName="uiClassName") annotation, and the UI class must be packaged in the same persistence unit "jar" as the entity class. To bind entity properties with the UI, developers have to design the forms with the apropiate control types (or JPanel container), and publish them as public fields with a similar name in the form class. When the control belongs to an embbedded entity property, use the "_" symbol to separate the embedded entity name of the associated property name. For example:
<br><br>
<table>
<tr>
    <td><u>Entity class:</u></td>
    <td width="25"></td>
    <td><u>UI code:</u></td>
</tr>
<tr valign="top">
<td>
<pre>
...
@Entity
@EntityDescriptor(layoutClassName="myNS.PersonEditor")
public class Person implements Serializable 
{
    @Id
    @Column(name="ssn", length=20)
    public String ssn;

    @Column(name="name", length=50)
    public String name;

    @Column(name="bornDay")
    public java.sql.Date bornDay;
    ...
}
</pre>
</td>

<td>&nbsp;</td>

<td>
<pre>
package myNS; 
...
public class PersonEditor extends javax.swing.JPanel 
{
    public JTextField jTextField_ssn;
    public JTextField jTextField_name;
    public JPanel     jPanel_bornDay;

    /** Creates new form PersonEditor */
    public PersonEditor() {
        initComponents();
    }

    private void initComponents() {
        // generated UI code
        jTextField_ssn = new JTextField();
        jTextField_name = new JTextField();
        jPanel_bornDay = new JPanel();
        ...
    }

}
</pre>
</td>
</tr>
</table>
<br><br>

    </ol>
    </blockquote>
 

    <a name="support">
    <h3>Support</h3>
    </a>
    <blockquote>
      I hope the "doe" project will be a community-supported open-source product, and you could find support by subscribing to <a href="servlets/ProjectMailingListList">user mailing list</a>.
    </blockquote>

    <a name="participate">
    <h3>Participation</h3>
    </a>
    <blockquote>
      Everybody is welcome to participate with "doe" project.<br>
      The application can sure be improved in many ways.<br>
      Any volunteers and suggestions?<br>
      <br>
    </blockquote>

    <a name="roadmap">
    <h3>Roadmap</h3>
    </a>
    <blockquote>
 Future roadmap for the "doe" application ("to do" task list):
 <ul>
 <li>English corrections and better i18n support (but I don't speak English ;-).</li>
 <li>Improve "GUI" (menus, toolbars, icons, better navigation, better custom queries support, fix some copy&paste operations, more drag&drop operations, ...).</li>
 <li>Allow user extensions/plugins to add new actions/menus for entity objects.</li>
 <li>Create custom editors for common property types (image viewers/loaders, dates, etc.)</li>
 <li>Better printing support.</li>
 <li>GUI API for customized actions in EJB3 entity beans.</li>
 <li>Load/unload of persistence units.</li>
 <li>More sample applications.</li>
 <li>NetBeans Platform module improvements.</li>
 </ul>
 </blockquote>
 
    </blockquote>

    <a name="revision">
    <h3>Revision History</h3>
    </a>
    <blockquote>
      <ul>
	<li>Version 0.2 - [Alpha version - CVS head]
	  <ul>
	    <li>Improved UI.</li>
	    <li>Cut, copy & paste operations.</li>
	    <li>Drag & drop operations.</li>
	    <li>Basic printing support.</li>
	    <li>Custom queries in search panel.</li>
	    <li>Custom actions in entity editor.</li>
	    <li>Custom layout in entity editor (compiled Swing UI, or Abeille forms).</li>
 	    <li>Allows client authentication with databases.</li>
	    <li>API migration to jsr-295 (beans binding) and jsr-296 (swing application framework).</li>
	    <li>Many bug fixes.</li>
	  </ul>
        </li>
	<li>Version 0.1 - [Pre-Alpha version imported in CVS - 2006/09/27]
	  <ul>
	    <li>Open source release to java.net.</li>
	    <li>Simple search/view/edition of EJB3 entity objects.</li>
	  </ul>
        </li>
      </ul>
    </blockquote>
    <hr>
    <small>
    <a href="http://java-enterprise.dev.java.net/">
    <img src="images/foundry-small.gif" border="0" alt="foundry"></a>
    <i>Part of the <a href="http://java-enterprise.dev.java.net/">
    Java Enterprise Community</a>.</i></small>
  </body>
</html>
